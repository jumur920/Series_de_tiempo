<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 2 Análisis grafico de series de tiempo | Pronóstico de Ventas de Café en Máquinas Expendedoras</title>
  <meta name="description" content="<p>This is a minimal example of using the bookdown package to write a book.
set in the _output.yml file.
The HTML output format for this example is bookdown::gitbook,</p>" />
  <meta name="generator" content="bookdown 0.42 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 2 Análisis grafico de series de tiempo | Pronóstico de Ventas de Café en Máquinas Expendedoras" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="<p>This is a minimal example of using the bookdown package to write a book.
set in the _output.yml file.
The HTML output format for this example is bookdown::gitbook,</p>" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 2 Análisis grafico de series de tiempo | Pronóstico de Ventas de Café en Máquinas Expendedoras" />
  
  <meta name="twitter:description" content="<p>This is a minimal example of using the bookdown package to write a book.
set in the _output.yml file.
The HTML output format for this example is bookdown::gitbook,</p>" />
  

<meta name="author" content="Luisa Angélica Isaza Sanabria - Juan Andrés Murillo Cadena - Carlos Fabián Villa Infante" />


<meta name="date" content="2025-04-26" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introducción</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#justificación-de-la-elección"><i class="fa fa-check"></i><b>1.1</b> Justificación de la Elección</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#descripción-de-la-información-a-utilizar"><i class="fa fa-check"></i><b>1.2</b> Descripción de la Información a Utilizar</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#fuentes-y-permisos-de-uso"><i class="fa fa-check"></i><b>1.3</b> Fuentes y Permisos de Uso</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="análisis-grafico-de-series-de-tiempo.html"><a href="análisis-grafico-de-series-de-tiempo.html"><i class="fa fa-check"></i><b>2</b> Análisis grafico de series de tiempo</a>
<ul>
<li class="chapter" data-level="2.1" data-path="análisis-grafico-de-series-de-tiempo.html"><a href="análisis-grafico-de-series-de-tiempo.html#metodología"><i class="fa fa-check"></i><b>2.1</b> Metodología</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="análisis-grafico-de-series-de-tiempo.html"><a href="análisis-grafico-de-series-de-tiempo.html#datos"><i class="fa fa-check"></i><b>2.1.1</b> Datos</a></li>
<li class="chapter" data-level="2.1.2" data-path="análisis-grafico-de-series-de-tiempo.html"><a href="análisis-grafico-de-series-de-tiempo.html#promedio-móvil"><i class="fa fa-check"></i><b>2.1.2</b> Promedio móvil</a></li>
<li class="chapter" data-level="2.1.3" data-path="análisis-grafico-de-series-de-tiempo.html"><a href="análisis-grafico-de-series-de-tiempo.html#función-de-autocorrelación-acf"><i class="fa fa-check"></i><b>2.1.3</b> Función de Autocorrelación (ACF)</a></li>
<li class="chapter" data-level="2.1.4" data-path="análisis-grafico-de-series-de-tiempo.html"><a href="análisis-grafico-de-series-de-tiempo.html#descomposición-stl"><i class="fa fa-check"></i><b>2.1.4</b> Descomposición STL</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="análisis-grafico-de-series-de-tiempo.html"><a href="análisis-grafico-de-series-de-tiempo.html#conclusiones"><i class="fa fa-check"></i><b>2.2</b> Conclusiones</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Pronóstico de Ventas de Café en Máquinas Expendedoras</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="análisis-grafico-de-series-de-tiempo" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">Capítulo 2</span> Análisis grafico de series de tiempo<a href="análisis-grafico-de-series-de-tiempo.html#análisis-grafico-de-series-de-tiempo" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Este es un análisis temporal de las ventas diarias de una máquina de café, con el objetivo de identificar patrones, tendencias y ciclos estacionales que permitan optimizar la gestión del negocio. Los datos incluyen información sobre la fecha y hora de las ventas, el medio de pago (efectivo o tarjeta), el valor de cada transacción y el tipo de café vendido. El análisis se centra en la variable <code>valor_total</code> (suma de ventas por día) y utiliza tres herramientas principales: el promedio móvil, la función de autocorrelación (ACF) y la descomposición STL.</p>
<div id="metodología" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> Metodología<a href="análisis-grafico-de-series-de-tiempo.html#metodología" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="datos" class="section level3 hasAnchor" number="2.1.1">
<h3><span class="header-section-number">2.1.1</span> Datos<a href="análisis-grafico-de-series-de-tiempo.html#datos" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Los datos abarcan un periodo de 385 días, desde abril 01 de 2024 hasta abril 23 de 2025. La variable analizada, <code>valor_total</code>, representa la suma de las ventas diarias (en dolares).</p>
</div>
<div id="promedio-móvil" class="section level3 hasAnchor" number="2.1.2">
<h3><span class="header-section-number">2.1.2</span> Promedio móvil<a href="análisis-grafico-de-series-de-tiempo.html#promedio-móvil" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Promedio móvil: Se calculó un promedio móvil de 7 días para suavizar las fluctuaciones diarias y destacar tendencias generales en las ventas. La siguiente gráfica muestra las ventas diarias (línea azul) junto con el promedio móvil (línea naranja).</p>
<div class="figure"><span style="display:block;" id="fig:promedio-movil"></span>
<img src="_main_files/figure-html/promedio-movil-1.png" alt="Ventas diarias con promedio móvil" width="672" />
<p class="caption">
Figure 2.1: Ventas diarias con promedio móvil
</p>
</div>
<p>La gráfica muestra una alta variabilidad en las ventas diarias, con picos que alcanzan hasta 800 y caídas cercanas a 0. El promedio móvil revela las siguientes tendencias:
Abril-julio 2024: Las ventas promedio crecen de ~300 a ~400, indicando un aumento en la demanda.</p>
<p>Julio-octubre 2024: Alcanzan un pico de ~500, mostrando un periodo de alta demanda, posiblemente por festividades o factores estacionales.</p>
<p>Octubre 2024-enero 2025: Disminuyen a ~300, reflejando una caída en las ventas durante el invierno.</p>
<p>Enero-abril 2025: Se recuperan y estabilizan en ~400, indicando una mejora en la primavera.</p>
<p>Esto sugiere una tendencia estacional a largo plazo, con un pico en octubre y una caída en invierno.</p>
</div>
<div id="función-de-autocorrelación-acf" class="section level3 hasAnchor" number="2.1.3">
<h3><span class="header-section-number">2.1.3</span> Función de Autocorrelación (ACF)<a href="análisis-grafico-de-series-de-tiempo.html#función-de-autocorrelación-acf" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>La función de autocorrelación (ACF) mide la correlación de las ventas diarias consigo mismas en diferentes rezagos, ayudando a identificar patrones temporales y ciclos estacionales.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="análisis-grafico-de-series-de-tiempo.html#cb3-1" tabindex="-1"></a><span class="co"># Función para calcular rezagos</span></span>
<span id="cb3-2"><a href="análisis-grafico-de-series-de-tiempo.html#cb3-2" tabindex="-1"></a>calcular_rezagos <span class="ot">&lt;-</span> <span class="cf">function</span>(serie, <span class="at">lag_max =</span> <span class="dv">14</span>) {</span>
<span id="cb3-3"><a href="análisis-grafico-de-series-de-tiempo.html#cb3-3" tabindex="-1"></a>  <span class="fu">acf</span>(serie, <span class="at">lag.max =</span> lag_max, <span class="at">plot =</span> <span class="cn">FALSE</span>)</span>
<span id="cb3-4"><a href="análisis-grafico-de-series-de-tiempo.html#cb3-4" tabindex="-1"></a>}</span>
<span id="cb3-5"><a href="análisis-grafico-de-series-de-tiempo.html#cb3-5" tabindex="-1"></a></span>
<span id="cb3-6"><a href="análisis-grafico-de-series-de-tiempo.html#cb3-6" tabindex="-1"></a><span class="co"># Calcular autocorrelación</span></span>
<span id="cb3-7"><a href="análisis-grafico-de-series-de-tiempo.html#cb3-7" tabindex="-1"></a></span>
<span id="cb3-8"><a href="análisis-grafico-de-series-de-tiempo.html#cb3-8" tabindex="-1"></a>acf_ventas <span class="ot">&lt;-</span> <span class="fu">calcular_rezagos</span>(ts_ventas)</span>
<span id="cb3-9"><a href="análisis-grafico-de-series-de-tiempo.html#cb3-9" tabindex="-1"></a><span class="fu">autoplot</span>(acf_ventas) <span class="sc">+</span></span>
<span id="cb3-10"><a href="análisis-grafico-de-series-de-tiempo.html#cb3-10" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Función de autocorrelación (ACF) de ventas diarias&quot;</span>,</span>
<span id="cb3-11"><a href="análisis-grafico-de-series-de-tiempo.html#cb3-11" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Rezago (días)&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Autocorrelación&quot;</span>) <span class="sc">+</span></span>
<span id="cb3-12"><a href="análisis-grafico-de-series-de-tiempo.html#cb3-12" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:rezagos"></span>
<img src="_main_files/figure-html/rezagos-1.png" alt="Autocorrelación de ventas" width="672" />
<p class="caption">
Figure 2.2: Autocorrelación de ventas
</p>
</div>
<p>La gráfica ACF muestra:
Rezagos 1 a 6: Autocorrelaciones significativas (~0.3 a 0.4), indicando una dependencia a corto plazo. Las ventas de un día están correlacionadas con las de los días anteriores, con un efecto que disminuye gradualmente.</p>
<p>Rezago 7: Un pico significativo (~0.4), confirmando un ciclo semanal. Esto indica que las ventas tienen un patrón que se repite cada 7 días (por ejemplo, mayor demanda los fines de semana).</p>
<p>Rezagos 8 a 14: Autocorrelaciones más pequeñas pero aún significativas, con otro pico en el rezago 14 (segundo ciclo semanal), reforzando el patrón estacional.</p>
<p>Este ciclo semanal sugiere que las ventas varían según el día de la semana.</p>
</div>
<div id="descomposición-stl" class="section level3 hasAnchor" number="2.1.4">
<h3><span class="header-section-number">2.1.4</span> Descomposición STL<a href="análisis-grafico-de-series-de-tiempo.html#descomposición-stl" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>La descomposición STL separa la serie temporal en tres componentes: tendencia, estacionalidad (ciclo semanal) y residuo.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="análisis-grafico-de-series-de-tiempo.html#cb4-1" tabindex="-1"></a><span class="co"># Verifica la serie temporal</span></span>
<span id="cb4-2"><a href="análisis-grafico-de-series-de-tiempo.html#cb4-2" tabindex="-1"></a><span class="fu">print</span>(ts_ventas)</span></code></pre></div>
<pre><code>## Time Series:
## Start = c(1, 1) 
## End = c(55, 7) 
## Frequency = 7 
##   [1] 290.00 334.40 349.10 135.20 338.50 170.20 220.10 265.50 402.00 241.40
##  [11] 342.80 228.10 256.20 368.20 136.50 183.20  68.90 115.60 179.90 253.90
##  [21] 166.50 228.10 285.10  78.70 184.90 415.40 231.70 165.40 156.10 189.90
##  [31]  38.70 272.80  96.50 166.50 145.00 402.10 140.10 241.50 267.70 258.60
##  [41] 127.70 135.20  72.50 370.00 434.30  91.60 335.30 199.20 275.30 338.50
##  [51] 456.58 142.36  99.74 184.98 267.46 192.02 224.84 113.16 169.00 182.22
##  [61] 239.54 108.26 170.28 189.88 239.14 344.08 113.16 295.38 148.44 255.52
##  [71] 277.26 123.64 365.92 350.82 365.06  94.74 385.52 414.22 508.08 403.56
##  [81] 295.38 437.94 465.66 287.74 310.08 436.46 391.70 447.54 300.28 439.22
##  [91] 408.54 184.98 396.50 307.54 408.54 338.00 333.10  60.74 451.16 136.18
## [101] 259.14 254.24 267.46 308.60 262.56 408.54 290.48  98.46 446.26 178.80
## [111] 300.28 380.62 103.36 334.58 141.08  88.66 169.00 121.48 357.60 136.18
## [121] 131.28 159.20 305.18  98.46 126.38 280.68 313.50 172.42 205.24  50.94
## [131]  93.56 111.68 164.10 139.60  65.64  27.92  60.74 180.74 374.24 200.34
## [141] 121.48 106.78 261.08 269.40 279.20 530.48 367.86 144.50 233.16 548.60
## [151] 497.66 628.94 139.60 325.24 252.76 233.16 313.50 208.66 344.84 213.56
## [161] 256.18 420.28 372.76 387.46 381.08 344.84 310.54 251.28 339.94  55.84
## [171] 292.42 289.00 233.16 320.34 161.14 167.52 269.40  60.74 111.68  23.02
## [181]  88.66 143.02 293.90 121.48 564.78 298.80 321.82 353.16 481.48 279.20
## [191] 476.12 238.06 210.14 381.08 265.98  65.64 147.92 219.94 540.28 303.70
## [201] 213.56 116.58 321.82 571.62 451.62 448.20 349.74 228.26 471.22 251.78
## [211] 537.86 241.98 667.66 302.24 173.90 472.70 123.44 565.28 435.48 523.16
## [221] 498.66 451.64 770.04 318.40 272.84 456.54 446.74 584.88 614.28 593.22
## [231] 383.56 450.18 641.70 344.36 349.26 430.58 620.64 503.56 235.62 502.10
## [241] 513.36 635.34 230.72 194.96 318.40 370.32 266.48 414.42 435.48 123.44
## [251] 359.06 532.96 282.64 271.38 393.36 266.48 256.68 573.62 420.78 225.82
## [261] 276.28 368.86 138.14 225.82 250.32 211.12  71.52 235.62 435.48  35.76
## [271]  66.62 338.00 199.86 497.20 272.84 216.02 528.06 282.64  71.52 164.10
## [281] 334.56 216.02  97.48 154.30 196.42 230.72 441.84 107.28 276.28 225.82
## [291] 138.14 123.44 477.60 333.10 216.02 456.54 118.54 313.50 266.48 144.50
## [301] 318.40 155.76 385.02 436.94  71.52 282.64  87.68 401.18 102.38  30.86
## [311]  61.72 199.86 206.22 230.72 487.40 123.44 261.58 211.12 342.90 302.24
## [321] 373.76 173.90 170.46 368.86 113.64 133.24 123.44 204.76  47.02 241.98
## [331] 277.74 123.44 324.76 333.10 313.50 338.00 760.24 263.04 821.96 302.24
## [341] 610.84 274.30 297.34 591.24 432.04 534.42 467.80 467.80 318.40 313.50
## [351] 505.02 505.02 605.94 652.96 695.08 246.88 190.06 549.12 493.76 605.94
## [361] 539.32 576.54 241.98 185.16 737.72 402.64 627.00 375.22 584.88 232.18
## [371] 241.98 523.16 380.12 615.74 365.42 652.96 211.12 230.72 401.18 441.84
## [381] 730.84 490.32 744.08 334.56 235.62</code></pre>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="análisis-grafico-de-series-de-tiempo.html#cb6-1" tabindex="-1"></a><span class="co"># Asegúrate de que ts_ventas tiene 391 días</span></span>
<span id="cb6-2"><a href="análisis-grafico-de-series-de-tiempo.html#cb6-2" tabindex="-1"></a><span class="fu">length</span>(ts_ventas)  <span class="co"># Debería devolver 391</span></span></code></pre></div>
<pre><code>## [1] 385</code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="análisis-grafico-de-series-de-tiempo.html#cb8-1" tabindex="-1"></a><span class="co"># Aplica STL</span></span>
<span id="cb8-2"><a href="análisis-grafico-de-series-de-tiempo.html#cb8-2" tabindex="-1"></a>descomposicion <span class="ot">&lt;-</span> <span class="fu">stl</span>(ts_ventas, <span class="at">s.window =</span> <span class="st">&quot;periodic&quot;</span>)</span>
<span id="cb8-3"><a href="análisis-grafico-de-series-de-tiempo.html#cb8-3" tabindex="-1"></a></span>
<span id="cb8-4"><a href="análisis-grafico-de-series-de-tiempo.html#cb8-4" tabindex="-1"></a><span class="co"># Grafica</span></span>
<span id="cb8-5"><a href="análisis-grafico-de-series-de-tiempo.html#cb8-5" tabindex="-1"></a><span class="fu">autoplot</span>(descomposicion) <span class="sc">+</span></span>
<span id="cb8-6"><a href="análisis-grafico-de-series-de-tiempo.html#cb8-6" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Descomposición de la serie temporal de ventas&quot;</span>,</span>
<span id="cb8-7"><a href="análisis-grafico-de-series-de-tiempo.html#cb8-7" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Días transcurridos&quot;</span>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:estacionalidad"></span>
<img src="_main_files/figure-html/estacionalidad-1.png" alt="Descomposición de la serie temporal" width="672" />
<p class="caption">
Figure 2.3: Descomposición de la serie temporal
</p>
</div>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="análisis-grafico-de-series-de-tiempo.html#cb9-1" tabindex="-1"></a><span class="co"># Extraer los componentes de la descomposición STL</span></span>
<span id="cb9-2"><a href="análisis-grafico-de-series-de-tiempo.html#cb9-2" tabindex="-1"></a>stl_components <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(descomposicion<span class="sc">$</span>time.series)</span>
<span id="cb9-3"><a href="análisis-grafico-de-series-de-tiempo.html#cb9-3" tabindex="-1"></a>stl_components<span class="sc">$</span>fecha <span class="ot">&lt;-</span> ventas_diarias<span class="sc">$</span>fecha</span>
<span id="cb9-4"><a href="análisis-grafico-de-series-de-tiempo.html#cb9-4" tabindex="-1"></a></span>
<span id="cb9-5"><a href="análisis-grafico-de-series-de-tiempo.html#cb9-5" tabindex="-1"></a><span class="co"># Verificar que las fechas coincidan</span></span>
<span id="cb9-6"><a href="análisis-grafico-de-series-de-tiempo.html#cb9-6" tabindex="-1"></a><span class="fu">head</span>(stl_components<span class="sc">$</span>fecha)</span></code></pre></div>
<pre><code>## [1] &quot;2024-03-01&quot; &quot;2024-03-02&quot; &quot;2024-03-03&quot; &quot;2024-03-04&quot; &quot;2024-03-05&quot;
## [6] &quot;2024-03-06&quot;</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="análisis-grafico-de-series-de-tiempo.html#cb11-1" tabindex="-1"></a><span class="fu">tail</span>(stl_components<span class="sc">$</span>fecha)</span></code></pre></div>
<pre><code>## [1] &quot;2025-03-18&quot; &quot;2025-03-19&quot; &quot;2025-03-20&quot; &quot;2025-03-21&quot; &quot;2025-03-22&quot;
## [6] &quot;2025-03-23&quot;</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="análisis-grafico-de-series-de-tiempo.html#cb13-1" tabindex="-1"></a><span class="co"># Crear una gráfica personalizada con ggplot2</span></span>
<span id="cb13-2"><a href="análisis-grafico-de-series-de-tiempo.html#cb13-2" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb13-3"><a href="análisis-grafico-de-series-de-tiempo.html#cb13-3" tabindex="-1"></a></span>
<span id="cb13-4"><a href="análisis-grafico-de-series-de-tiempo.html#cb13-4" tabindex="-1"></a><span class="co"># Gráfica de todos los componentes</span></span>
<span id="cb13-5"><a href="análisis-grafico-de-series-de-tiempo.html#cb13-5" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(stl_components, <span class="fu">aes</span>(<span class="at">x =</span> fecha)) <span class="sc">+</span></span>
<span id="cb13-6"><a href="análisis-grafico-de-series-de-tiempo.html#cb13-6" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> seasonal <span class="sc">+</span> trend <span class="sc">+</span> remainder, <span class="at">color =</span> <span class="st">&quot;Datos&quot;</span>)) <span class="sc">+</span></span>
<span id="cb13-7"><a href="análisis-grafico-de-series-de-tiempo.html#cb13-7" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Datos originales&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Ventas&quot;</span>) <span class="sc">+</span></span>
<span id="cb13-8"><a href="análisis-grafico-de-series-de-tiempo.html#cb13-8" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb13-9"><a href="análisis-grafico-de-series-de-tiempo.html#cb13-9" tabindex="-1"></a></span>
<span id="cb13-10"><a href="análisis-grafico-de-series-de-tiempo.html#cb13-10" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(stl_components, <span class="fu">aes</span>(<span class="at">x =</span> fecha)) <span class="sc">+</span></span>
<span id="cb13-11"><a href="análisis-grafico-de-series-de-tiempo.html#cb13-11" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> trend, <span class="at">color =</span> <span class="st">&quot;Tendencia&quot;</span>)) <span class="sc">+</span></span>
<span id="cb13-12"><a href="análisis-grafico-de-series-de-tiempo.html#cb13-12" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Tendencia&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Ventas&quot;</span>) <span class="sc">+</span></span>
<span id="cb13-13"><a href="análisis-grafico-de-series-de-tiempo.html#cb13-13" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb13-14"><a href="análisis-grafico-de-series-de-tiempo.html#cb13-14" tabindex="-1"></a></span>
<span id="cb13-15"><a href="análisis-grafico-de-series-de-tiempo.html#cb13-15" tabindex="-1"></a>p3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(stl_components, <span class="fu">aes</span>(<span class="at">x =</span> fecha)) <span class="sc">+</span></span>
<span id="cb13-16"><a href="análisis-grafico-de-series-de-tiempo.html#cb13-16" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> seasonal, <span class="at">color =</span> <span class="st">&quot;Estacionalidad&quot;</span>)) <span class="sc">+</span></span>
<span id="cb13-17"><a href="análisis-grafico-de-series-de-tiempo.html#cb13-17" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Estacionalidad&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Ventas&quot;</span>) <span class="sc">+</span></span>
<span id="cb13-18"><a href="análisis-grafico-de-series-de-tiempo.html#cb13-18" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb13-19"><a href="análisis-grafico-de-series-de-tiempo.html#cb13-19" tabindex="-1"></a></span>
<span id="cb13-20"><a href="análisis-grafico-de-series-de-tiempo.html#cb13-20" tabindex="-1"></a>p4 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(stl_components, <span class="fu">aes</span>(<span class="at">x =</span> fecha)) <span class="sc">+</span></span>
<span id="cb13-21"><a href="análisis-grafico-de-series-de-tiempo.html#cb13-21" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> remainder, <span class="at">color =</span> <span class="st">&quot;Residuo&quot;</span>)) <span class="sc">+</span></span>
<span id="cb13-22"><a href="análisis-grafico-de-series-de-tiempo.html#cb13-22" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Residuo&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Ventas&quot;</span>) <span class="sc">+</span></span>
<span id="cb13-23"><a href="análisis-grafico-de-series-de-tiempo.html#cb13-23" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb13-24"><a href="análisis-grafico-de-series-de-tiempo.html#cb13-24" tabindex="-1"></a></span>
<span id="cb13-25"><a href="análisis-grafico-de-series-de-tiempo.html#cb13-25" tabindex="-1"></a><span class="co"># Combinar gráficos</span></span>
<span id="cb13-26"><a href="análisis-grafico-de-series-de-tiempo.html#cb13-26" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb13-27"><a href="análisis-grafico-de-series-de-tiempo.html#cb13-27" tabindex="-1"></a>p1 <span class="sc">/</span> p2 <span class="sc">/</span> p3 <span class="sc">/</span> p4</span></code></pre></div>
<p><img src="_main_files/figure-html/arreglo-1.png" width="672" /></p>
<p>La descomposición STL revela los siguientes patrones:
Tendencia: Similar al promedio móvil, muestra un aumento inicial (abril-julio 2024), un pico en octubre (500), una caída en invierno (300), y una recuperación en primavera (~400). Esto confirma una tendencia estacional a largo plazo.</p>
<p>Estacionalidad: Oscila entre -20 y 20, con un ciclo que se repite cada 7 días, confirmando el patrón semanal identificado por la ACF. Aunque el efecto estacional es pequeño, indica variaciones según el día de la semana (por ejemplo, mayor demanda los fines de semana).</p>
<p>Residuo: Varía entre -300 y 300, mostrando una alta variabilidad. Esto indica que hay fluctuaciones significativas en las ventas que no se explican por la tendencia ni la estacionalidad, posiblemente debido a eventos aleatorios (festivos, promociones, cierres).</p>
</div>
</div>
<div id="conclusiones" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Conclusiones<a href="análisis-grafico-de-series-de-tiempo.html#conclusiones" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>El análisis temporal de las ventas diarias de la máquina de café revela los siguientes hallazgos:
Tendencia estacional a largo plazo: Las ventas crecen hacia octubre (pico de 500), caen en invierno (300), y se recuperan en primavera (~400).</p>
<p>Ciclo semanal: Tanto la ACF como la descomposición STL confirman un ciclo de 7 días, indicando que las ventas varían según el día de la semana. Se puede analizar las ventas por día de la semana para identificar días de alta demanda (por ejemplo, fines de semana).</p>
<p>Alta variabilidad residual: El residuo de la descomposición STL muestra fluctuaciones significativas (hasta ±300), lo que sugiere que las ventas tienen un componente impredecible. Esto podría deberse a eventos externos (festivos, promociones), que vale la pena investigar para mejorar las predicciones.</p>
<p>En resumen, las ventas de la máquina de café presentan patrones claros a nivel semanal y estacional. Sin embargo, la alta variabilidad residual indica la necesidad de un análisis más profundo de factores externos para mejorar la previsión y gestión del negocio.</p>

<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div class="csl-entry">
Isaienkov, Yaroslav. 2025. <span>“Coffee Sales.”</span> Kaggle. <a href="https://www.kaggle.com/datasets/ihelon/coffee-sales">https://www.kaggle.com/datasets/ihelon/coffee-sales</a>.
</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/01-intro.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
